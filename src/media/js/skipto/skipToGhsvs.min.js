!function(){"use strict";var e={};e.prototype={headingElementsArr:[],landmarkElementsArr:[],idElementsArr:[],dropdownHTML:null,config:{buttonLabel:"Skip To...",buttonDivTitle:"Skip To Keyboard Navigation",buttonDivRole:"complementary",buttonDivLabel:"",menuLabel:"Skip To and Page Outline",landmarksLabel:"Skip To",headingsLabel:"Page Outline",contentLabel:" Content",main:'main, [role="main"]',landmarks:'[role="navigation"], [role="search"]',sections:"nav",headings:"h1, h2, h3",ids:"#SkipToA1, #SkipToA2",accessKey:"0",wrap:"false",focusOnClick:"false",hashOnMenu:"true",enumerateElements:"false",visibility:"onFocus",customClass:"",attachElement:document.body},setUpConfig:function(e){var t,i=this.config,n=void 0!==e.settings?e.settings.skipTo:{};for(t in n)i.hasOwnProperty(t)&&(i[t]=n[t])},init:function(e){if(this.setUpConfig(e),null!==document.getElementById("skipToMenu")){var t=document.getElementById("skipToMenu");t.parentNode.removeChild(t)}var i,n=document.createElement("div"),s=this.config.attachElement.nodeType?this.config.attachElement:document.querySelector(this.config.attachElement);n.setAttribute("id","skipToMenu"),""!==this.config.buttonDivRole&&n.setAttribute("role",this.config.buttonDivRole),""!==this.config.buttonDivTitle&&n.setAttribute("title",this.config.buttonDivTitle),""!==this.config.buttonDivLabel&&n.setAttribute("aria-label",this.config.buttonDivLabel),this.addStyles("@@cssContent"),this.dropdownHTML="",this.dropdownHTML+='<ul id="menu1" class="list-group text-left">',this.getLandMarks(this.config.main),this.getLandMarks(this.config.landmarks),this.getSections(this.config.sections),this.getIdElements(),this.getHeadings(),i=this.getdropdownHTML(),this.dropdownHTML+=i+"</ul>",i.length>0&&(s.insertBefore(n,s.firstChild),n.innerHTML=this.dropdownHTML)},normalizeName:function(e){return"string"==typeof e?e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""},getTextContent:function(e){var t="Test",i=[];return function e(t,i){if(3===t.nodeType)i.push(t.data);else if(1===t.nodeType){var n=t.tagName.toLowerCase();if("img"===n||"area"===n)t.alt&&i.push(t.alt);else for(var s=t.firstChild;s;)e(s,i),s=s.nextSibling}}(e,i),i.length&&(t=i.join(" ")),t.length>30&&(t=t.substring(0,27)+"..."),t},getAccessibleName:function(e){var t=e.getAttribute("aria-labelledby"),i=e.getAttribute("aria-label"),n=e.getAttribute("title"),s="";if(t&&t.length){var r,o=[],a=t.split(" ");a.length||(a=[t]);for(var l=0,d=a.length;l<d;l+=1){var u=document.getElementById(a[l]);u&&(r=this.getTextContent(u)),r.length&&o.push(r)}s=o.join(" ")}else i&&i.length?s=i:n&&n.length&&(s=n);return s},getHeadings:function(){var e=this.config.headings;if("string"==typeof e&&0!==e.length){var t,i,n,s,r,o,a=document.querySelectorAll(e);for(t=0,i=a.length;t<i;t+=1)"string"==typeof(s=(n=a[t]).getAttribute("role"))&&"presentation"===s||this.isVisible(n)&&(r=n.getAttribute("id")||n.innerHTML.replace(/\s+/g,"_").toLowerCase().replace(/[&\/\\#,+()$~%.'"!:*?<>{}ยน]/g,"")+"_"+t,n.tabIndex="-1",n.setAttribute("id",r),o=this.getTextContent(n),"false"===this.config.enumerateElements&&(o=""+o),this.headingElementsArr[r]={id:r,name:o})}},isVisible:function(e){return function e(t){if(9===t.nodeType)return!0;var i=document.defaultView?document.defaultView.getComputedStyle(t,null).getPropertyValue("display"):t.currentStyle.display,n=document.defaultView?document.defaultView.getComputedStyle(t,null).getPropertyValue("visibility"):t.currentStyle.visibility,s=t.getAttribute("hidden"),r=t.getAttribute("aria-hidden"),o=t.getBoundingClientRect();return!("none"===i||"hidden"===n||null!==s||"true"===r||o.height<4||o.width<4)&&e(t.parentNode)}(e)},getSections:function(e){if("string"==typeof e&&0!==e.length){var t,i,n,s,r,o,a,l=document.querySelectorAll(e);for(t=0,i=l.length;t<i;t+=1)"string"==typeof(r=(n=l[t]).getAttribute(r))&&"presentation"===r||this.isVisible(n)&&(s=n.getAttribute("id")||"ui-skip-"+Math.floor(100*Math.random()+1),n.tabIndex="-1",n.setAttribute("id",s),r=n.tagName.toLowerCase(),o="false"===this.config.enumerateElements?this.normalizeName(r)+": ":"",(a=this.getAccessibleName(n))&&a.length?o+=a:"main"===r&&(o+=this.config.contentLabel),this.landmarkElementsArr[s]=o)}},getLandMarks:function(e){if("string"==typeof e&&0!==e.length){var t,i,n,s,r,o,a,l=document.querySelectorAll(e);for(t=0,i=l.length;t<i;t+=1)"string"==typeof(r=(n=l[t]).getAttribute("role"))&&"presentation"===r||this.isVisible(n)&&(s=n.getAttribute("id")||"ui-skip-"+Math.floor(100*Math.random()+1),n.tabIndex="-1",n.setAttribute("id",s),r||(r=n.tagName.toLowerCase()),o=this.getAccessibleName(n),"banner"===r&&(r="header"),"contentinfo"===r&&(r="footer"),"navigation"===r&&(r="nav"),a="false"===this.config.enumerateElements?this.normalizeName(r)+": ":"",o&&o.length?a+=o:"main"===r&&(a+=this.config.contentLabel),this.landmarkElementsArr[s]=a)}},getIdElements:function(){var e,t,i,n,s;for(t="object"==typeof this.config.ids?this.config.ids:"string"==typeof this.config.ids?(t=this.config.ids.split(",")).map(function(e){return{id:e.trim()}}):[],e=0;e<t.length;e+=1)n=t[e].id.replace("#",""),null!==(i=document.getElementById(n))&&((s=t[e].description||i.innerHTML.replace(/<\/?[^>]+>/gi,"").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")).length>30&&(s=s.replace(s,s.substr(0,30)+"...")),"false"===this.config.enumerateElements&&(s="id: "+s),this.idElementsArr[n]=s)},getdropdownHTML:function(){var e,t,i="",n=!0,s=!0,r=1;for(e in this.landmarkElementsArr)this.landmarkElementsArr.hasOwnProperty(e)&&(n&&(n=!1),t=this.landmarkElementsArr[e],i+='<li class="list-group-item"><a tabindex="-1" href="#',i+=e+'">',"false"!==this.config.enumerateElements&&(i+=r+": ",r+=1),i+=t+"</a></li>");for(e in this.idElementsArr)this.idElementsArr.hasOwnProperty(e)&&(n&&(i+='<li role="separator" style="list-style:none outside none">'+this.config.landmarksLabel+"</li>",n=!1),t=this.idElementsArr[e],i+='<li class="list-group-item"><a tabindex="-1" role="menuitem" href="#',i+=e+'">',"false"!==this.config.enumerateElements&&(i+=r+": ",r+=1),i+=t+"</a></li>");for(e in this.headingElementsArr)this.headingElementsArr[e].name&&(s&&(s=!1),t=this.headingElementsArr[e].name,i+='<li class="list-group-item"><a class="po-'+(t=addClassToFirstCharacter(t)).substring(0,2)+'" tabindex="-1" href="#',i+=e+'">',"false"!==this.config.enumerateElements&&(i+=r+": ",r+=1),i+=t+"</a></li>");return i},addStyles:function(e){var t,i=document.createElement("style"),n=document.getElementsByTagName("head")[0];i.setAttribute("type","text/css"),n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:(t=document.createTextNode(e),i.appendChild(t))}},window.skipToMenuInit=function(t){e.prototype.init(t||window.Drupal||window.Wordpress||window.SkipToConfig||{})}}(window.Drupal||window.Wordpress||window.SkipToConfig);